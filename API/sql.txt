// SQL Script

create database ses;
use ses;

create table user(userID int primary key auto_increment, name varchar(25), email varchar(255), phoneNo varchar(13), password varchar(255));

CREATE TABLE `ParkingArea_Table` (
  `Id` varchar(45) DEFAULT NULL,
  `Name` varchar(45) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `Prebooking_Table` (
  `slotNo` int(100) DEFAULT NULL,
  `phoneNO` varchar(45) DEFAULT NULL,
  `rcNo` varchar(45) DEFAULT NULL,
  `expectedArrivalTime` datetime DEFAULT NULL,
  `ArrivalTime` datetime DEFAULT '0000-00-00 00:00:00',
  `bookingStatus` varchar(5) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


CREATE TABLE `Booking_History` (
  `ParkingArea_Id` int(11) NOT NULL,
  `slotNo` int(11) DEFAULT NULL,
  `Exit_Time` datetime DEFAULT NULL,
  `Entry_Time` date DEFAULT NULL,
  `Amount` int(50) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

insert into Booking_History values('PA1',1,'2018-03-21 11:36:14.840','2018-03-21 12:36:14.840',100);
create table parkingSlotTable(sid int primary key, areaID varchar(5) , slot_num int , status varchar(1))
//re run this query
 create table car_details(cid int primary key auto_increment, 
 rcNo varchar(45) unique, phoneNo varchar(20), carModel varchar(40), foreign key (phoneNo) references user(phoneNo) on update set null);
 
 
 alter table user add constraint phoneNo unique(phoneNo);
 
 create table booking(bid int primary key AUTO_INCREMENT,areaId varchar(20),slotNo varchar(20),rcNo varchar(20), 
 foreign key (rcNo) references car_details(rcNo) on update set null,phoneNo varchar(20), foreign key (phoneNo) 
 references user(phoneNo) on update set null ,
 expectedArrivalTime datetime , arrivalTime datetime , exitTime datetime ,amount int,preBookingStatus boolean , 
 completeStatus boolean);
 
  insert into booking values(1,'PA1','12', 'BR04','7903024586','2019-04-19 11:55:10',null,null,null, 1,0);
  
  
